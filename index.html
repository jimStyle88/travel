<!DOCTYPE html>
<html ng-app="cooking">

	<head>
		<title>健康厨房</title>
		<meta charset="UTF-8">
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<!--<script type="text/javascript" src="dist/js/angular/angular.js"></script>-->
		<script type="text/javascript" src="dist/js/ionic.bundle.js"></script>
		<script type="text/javascript" src="dist/js/angular/angular-route.js"></script>
		<script type="text/javascript" src="dist/js/jquery-1.12.0.js"></script>
		<script type="text/javascript" src="dist/js/swiper.min.js"></script>
		<link rel="stylesheet" href="dist/css/base.css" />
		<link rel="stylesheet" href="dist/css/index.css" />
		<link rel="stylesheet" href="dist/css/swiper.min.css" />
		<!--<link rel="stylesheet" href="dist/css/ionic.css" />-->
	</head>

	<body>
		<div class="jd_ladyout">
			<div class="bottom_list">
				<ul>
					<li>
						<a href="#/index" ng-click="loadMoreData()"><img src="img/shouye.jpg"><span>首页</span></a>
					</li>
					<li>
						<a href="#/Trip"><img src="img/time.jpg"><span>行程</span></a>
					</li>
					<li>
						<a href="#/Service"><img src="img/sevier.jpg"><span>客服</span></a>
					</li>
					<li>
						<a href="#/Personal"><img src="img/boy.jpg"><span>我的</span></a>
					</li>
				</ul>
			</div>
			<!--渲染视图-->
			<div ng-view="" class="view"></div>
		</div>
	</body>
	<script>
		var app = angular.module('cooking', ["ngRoute"]);
		app.config(function($routeProvider) {
			$routeProvider.when('/index', {
					controller: 'indexCtrl',
					templateUrl: 'view/index.html'
				}).when('/Trip', {
					controller: 'TripCtrl',
					templateUrl: 'view/Trip.html'
				}).when('/Service', {
					controller: 'ServiceCtrl',
					templateUrl: 'view/Service.html'
				}).when('/Personal', {
					controller: 'PersonalCtrl',
					templateUrl: 'view/Personal.html'
				})
				//如果找不到对应的路由那就跳到index模版文件
				.otherwise({
					redirectTo: '/index'
				})
		});

		app.controller('indexCtrl', ['$scope', '$http', '$timeout', function($scope, $http, $timeout) {
			$scope.offset = 1;
			var loadMoreData = function() {
				$http.get('php/baidu.php', {
					params: {
						page: $scope.offset,

					}
				}).success(function(data) {
					console.log(data);
					$scope.news = data.data.books;
					console.log($scope.news)

				})
			}
			loadMoreData($scope.offset);
			$scope.loadMore = function() {
				$scope.offset++;
				loadMoreData($scope.offset);
			}
			var swiper = new Swiper('.swiper-container', {
				pagination: '.swiper-pagination',
				nextButton: '.swiper-button-next',
				prevButton: '.swiper-button-prev',
				paginationClickable: true,
				spaceBetween: 30,
				centeredSlides: true,
				autoplay: 2500,
				autoplayDisableOnInteraction: false
			});
		}]);
		app.controller('TripCtrl', ['$scope', '$http', '$timeout', function($scope, $http, $timeout) {
			$scope.offset = 1;
			var loadMoreData = function() {
				$http.get('php/baidu.php', {
					params: {
						page: $scope.offset,

					}
				}).success(function(data) {
					console.log(data);
					$scope.news = data.data.books;
					console.log($scope.news)

				})
			}
			loadMoreData($scope.offset);
			$scope.loadMore = function() {
				$scope.offset++;
				loadMoreData($scope.offset);
			}

		}]);
		app.controller('ServiceCtrl', ['$scope', '$http', '$timeout', function($scope, $http, $timeout) {}]);
		app.controller('PersonalCtrl', ['$scope', '$http', '$timeout', function($scope, $http, $timeout) {}]);
	</script>

</html>